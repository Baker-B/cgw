alexander@mycomp:~/projects/cgw$ node appp.js 
imported key <Buffer 71 db 4d 66 e4 d1 77 9f 09 5c b8 b1 06 79 92 09 b9 b0 2b e8 ab 8b 89 e6 0a 5f 23 6b 89 ff 91 c9>
secret {
  iv: <Buffer 71 37 3e 11 c9 a4 0d c1 29 65 50 36 27 de ef 77>,
  key: <Buffer 71 db 4d 66 e4 d1 77 9f 09 5c b8 b1 06 79 92 09 b9 b0 2b e8 ab 8b 89 e6 0a 5f 23 6b 89 ff 91 c9>
}
restoredSecret {
  iv: <Buffer 71 37 3e 11 c9 a4 0d c1 29 65 50 36 27 de ef 77>,
  key: <Buffer 71 db 4d 66 e4 d1 77 9f 09 5c b8 b1 06 79 92 09 b9 b0 2b e8 ab 8b 89 e6 0a 5f 23 6b 89 ff 91 c9>
}
Serving at http://localhost:3073


== UPLOAD ==
POST /upload 201 49.673 ms - 324
122 app fileObject:  {
  filePath: 'uploads/fp-1670401822571_encrypted.json',
  base64Secret: 'eyJpdiI6IjcxMzczZTExYzlhNDBkYzEyOTY1NTAzNjI3ZGVlZjc3Iiwia2V5IjoiNzFkYjRkNjZlNGQxNzc5ZjA5NWNiOGIxMDY3OTkyMDliOWIwMmJlOGFiOGI4OWU2MGE1ZjIzNmI4OWZmOTFjOSJ9',
  _id: new ObjectId("639aea32a03058b31742d3ec"),
  createdAt: 2022-12-15T09:34:42.632Z,
  updatedAt: 2022-12-15T09:34:42.632Z,
  __v: 0,
  id: '639aea32a03058b31742d3ec'
}


== GET ENCRYPTED SECRET ==
184 Getting encrypted file: fp-1670401822571_encrypted.json
186 filePath:  uploads/fp-1670401822571_encrypted.json
191 secret found eyJpdiI6IjcxMzczZTExYzlhNDBkYzEyOTY1NTAzNjI3ZGVlZjc3Iiwia2V5IjoiNzFkYjRkNjZlNGQxNzc5ZjA5NWNiOGIxMDY3OTkyMDliOWIwMmJlOGFiOGI4OWU2MGE1ZjIzNmI4OWZmOTFjOSJ9 string
26 dataToEncrypt:  eyJpdiI6IjcxMzczZTExYzlhNDBkYzEyOTY1NTAzNjI3ZGVlZjc3Iiwia2V5IjoiNzFkYjRkNjZlNGQxNzc5ZjA5NWNiOGIxMDY3OTkyMDliOWIwMmJlOGFiOGI4OWU2MGE1ZjIzNmI4OWZmOTFjOSJ9
30 app pathJoined:  /home/alexander/projects/cgw/client/src/userCert/user_1_cert.pem
33 app publicKey:  -----BEGIN RSA PUBLIC KEY-----
MIIBCgKCAQEA+GSZcl/1WGf1QJO4whfEABdRzwgltg1Plnf6g6rKNsDF5pFLBNHR
Tdlmmv4OVU77CWZYOdmb89/4HMDo1Usm/t4MlAZq30YUyd1tCrDpQ8cJt4QwT+k/
fxm0xMwwOOkKuPkYvG6fTObein2/IpHM28OkNh9BsKpIL0LXBmc5w6q7mzgx6qZL
EgjiGbecgsH17UTdbZBtHw40rSX+jr6ebULa1XK0C6G3wiepLU9a0BPtuvdWSSQ0
X4LPVwqknFKJEb+btEIPWoAW7fr0XewHlb0FERS+dtqms5ZBe5mhmaGC5oIL/5zo
DRTewrAYU5TyPJISTBXLjGQPLP2VdlbvVwIDAQAB
-----END RSA PUBLIC KEY-----

193 encryptedKey o5dfPAnYG+q2lPfXygEr5CU+tv5XdV+VegbbdxLaNB0gGs8/SefcmN+dRiSd8XaGWfuI7I0luLUEO68LIdB6V57pxt2lbOtg9mLmv3jD2sMOCI8UC+ujH2QO/gUSqB/oUjKM+ydk9NkGOuzF+L98ZGT0tfkU/yFG5SQD3qOpgJhJSNYc5RA2f6aOQLakf26Dna4NydJoVO2fV8eB+gImcb3yIc0Kuj2gQkQ7/ONqM1MuwD0RakKGOYn6zEN1MNQc4j3d90mhvd4nLsdmoL8w0DVxh0chcJD1T+tsvDA6gRoZwE5mswNkhwo3I0/7P4Bk0pHdokbBIVF2hKxxvIXLpA==
GET /file/uploads/fp-1670401822571_encrypted.json 200 54.237 ms - 416


== GET DECRYPTED FILE ==
207 req.body.secret eyJpdiI6IjcxMzczZTExYzlhNDBkYzEyOTY1NTAzNjI3ZGVlZjc3Iiwia2V5IjoiNzFkYjRkNjZlNGQxNzc5ZjA5NWNiOGIxMDY3OTkyMDliOWIwMmJlOGFiOGI4OWU2MGE1ZjIzNmI4OWZmOTFjOSJ9
209 req.body.encryptedKey o5dfPAnYG+q2lPfXygEr5CU+tv5XdV+VegbbdxLaNB0gGs8/SefcmN+dRiSd8XaGWfuI7I0luLUEO68LIdB6V57pxt2lbOtg9mLmv3jD2sMOCI8UC+ujH2QO/gUSqB/oUjKM+ydk9NkGOuzF+L98ZGT0tfkU/yFG5SQD3qOpgJhJSNYc5RA2f6aOQLakf26Dna4NydJoVO2fV8eB+gImcb3yIc0Kuj2gQkQ7/ONqM1MuwD0RakKGOYn6zEN1MNQc4j3d90mhvd4nLsdmoL8w0DVxh0chcJD1T+tsvDA6gRoZwE5mswNkhwo3I0/7P4Bk0pHdokbBIVF2hKxxvIXLpA== string
encryptedData o5dfPAnYG+q2lPfXygEr5CU+tv5XdV+VegbbdxLaNB0gGs8/SefcmN+dRiSd8XaGWfuI7I0luLUEO68LIdB6V57pxt2lbOtg9mLmv3jD2sMOCI8UC+ujH2QO/gUSqB/oUjKM+ydk9NkGOuzF+L98ZGT0tfkU/yFG5SQD3qOpgJhJSNYc5RA2f6aOQLakf26Dna4NydJoVO2fV8eB+gImcb3yIc0Kuj2gQkQ7/ONqM1MuwD0RakKGOYn6zEN1MNQc4j3d90mhvd4nLsdmoL8w0DVxh0chcJD1T+tsvDA6gRoZwE5mswNkhwo3I0/7P4Bk0pHdokbBIVF2hKxxvIXLpA==
72 decryptor decryptedData <Buffer 65 79 4a 70 64 69 49 36 49 6a 63 78 4d 7a 63 7a 5a 54 45 78 59 7a 6c 68 4e 44 42 6b 59 7a 45 79 4f 54 59 31 4e 54 41 7a 4e 6a 49 33 5a 47 56 6c 5a 6a ... 102 more bytes>
214 decryptedKey eyJpdiI6IjcxMzczZTExYzlhNDBkYzEyOTY1NTAzNjI3ZGVlZjc3Iiwia2V5IjoiNzFkYjRkNjZlNGQxNzc5ZjA5NWNiOGIxMDY3OTkyMDliOWIwMmJlOGFiOGI4OWU2MGE1ZjIzNmI4OWZmOTFjOSJ9
223 secret {
  iv: <Buffer 71 37 3e 11 c9 a4 0d c1 29 65 50 36 27 de ef 77>,
  key: <Buffer 71 db 4d 66 e4 d1 77 9f 09 5c b8 b1 06 79 92 09 b9 b0 2b e8 ab 8b 89 e6 0a 5f 23 6b 89 ff 91 c9>
}
POST /file/decrypt/fp-1670401822571_encrypted.json 200 7.171 ms - 53887
^C
alexander@mycomp:~/projects/cgw$ logout
